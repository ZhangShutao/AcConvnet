AcConvnet
=========

The convolution neural network with OpenCV.

#How to set config

The configure file contains the structure and weights of a CNN. The config file is loaded by an instance of AcConvNet.

    AcConvNet net;
    net.Load("config");

##Create a network

If a configure file begins with `create`, `neg.Load(filename)` will create a new network with the structure in configure file. 

To create a brandnew network means to design the structure of this network and write the configure file. Writing another program is recommended if the network is too large.

###network structure

The first line contains 3 integer and a double, which are the number of layers, the width of input, the height of input, and the learning rate of this convnet.

    convnet 8 32 32 1.000000000000e-03

This convnet has 8 layers, the size of input is 32X32, and the learning rate is 1e-3.

The following lines are structure information of each layer in this network. Each layer starts with a line like this:

    conv C1 28 28 5 5 6

The first string is the type of this layer. It can be the following strings:

* `src`, which means this layer is an input layer;
* `conv`, which means this layer is a convolution layer;
* `sub`, which means this layer is a subsampleing layer;
* `normal`, which means the size of this layer is 1X1, and it works like a normal neuron in normal neuron network;

The next string is the id of this layer. The following integers are the size of panels in this layer, the kernal size of this layer and the number of panels in this layer. In the example, the size of panel in this layer is 28X28, and the kernal size is 5X5, which means the size of input matrix of panels in this layer is 32X32, and the size of output matrix of panels in this layer is 28X28(32-5+1=28).

The following lines of this layer contains the informatin of panels. The first line is

    C1-0 1

which means the id of this panel is C1-0, and it is connnected to one panel in previous layer. The following lines should be the id of these panels.

##Load a network

If a configure file begins with `load`, `net.Load(filename)` will load an existing network, which is generated by another instance. It contains all structure information of `create` mode and the trained weights of the other instance.
